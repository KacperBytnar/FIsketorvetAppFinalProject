@page
@model FisketorvetWebAppProject.Pages.ShopsModel
@{ 
}
@using Microsoft.AspNetCore.Http;
@*@if (HttpContext.Session.Keys.Contains("admin"))
{
    <a style="margin-top: 5px; margin-left:150px; text-align: center" asp-page="/AllProducts/CreateStore" class="btn btn-primary m-3">Add new store</a>
}*@
<div class="card-deck" style="text-align:center">

    @foreach (var store in Model.Stores)
    {

        var image = "/images/Stores/" + store.Image;

    <div class=" card m-3" style="min-width:18rem;max-width:31%; height:24rem; marxgin-bottom:100px;">
        <div class="card-header" style="height:10%; text-align:center;padding-top:-30px; font-family:'Comic Sans MS'">
            <p style="text-overflow:initial; text-align:center; margin-top:-25px;">
                @if (store.Name.Length > 20)
                {
                    <h5>@store.Name</h5>
                }
                else
                { <h3>@store.Name</h3>}

            </p>
        </div>
        <img style="card-img-top: img-thumbnail; max-width:80%; max-height:30%; text-align:center; margin:auto;" src="@image" alt="Store image">

        <div class="card-header " style="width:100%; height:25%; padding:0; overflow:auto">
            <p style="text-overflow:initial; font-size:14px;">
                @store.Description
            </p>
        </div>
        <div class="card-header " style="width:100%; height:10%; padding:0;">
            <p style="text-overflow:initial; font-size:22px;">
                <i>Location:</i> @store.Location Floor
            </p>
        </div>
        <div class="card-header " style="width:100%; height:10%; padding:0;">
            <p style="text-overflow:initial; font-size:22px;">
                <i>Phone number:</i> @store.PhoneNumber
            </p>
        </div>
        <div style="width:100%; height:15%; padding:0">

            <div class="card-footer text-center">
                <a asp-page="/AllProducts/AllProducts" asp-route-name="@store.Name" class="btn btn-primary m-1">Display Products</a>
            </div>
        </div>
    </div>
    }

</div>
